<!DOCTYPE html>
<html>
<head>
    <title>Bienvenido al Plantel</title>
    <!--Import materialize.css-->
    <link href="../Content/materialize/css/materialize.min.css" rel="stylesheet" media="screen,projection" type="text/css" />
    <link href="../Content/materialize/css/iconos.css" rel="stylesheet" />
    <!--Mis estilos CSS-->
    <link href="../Content/estilos.css" rel="stylesheet" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style type="text/css">
        .links a {
            color: black;
            transition: background 0.4s;
        }

        #listado {
            opacity: 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <nav>
                <div class="nav-wrapper">
                    <a href="#!" class="brand-logo">Logo</a>
                    <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
                    <ul class="right hide-on-med-and-down">
                        <li><a href="admin.html">Inicio</a></li>
                        <li><a href="badges.html">Components</a></li>
                        <li><a href="collapsible.html">Javascript</a></li>
                        <li><a href="#" class="cerrar"><span class="usuario"></span> -- Cerrar Sesión </a></li>
                    </ul>
                    <ul class="side-nav" id="mobile-demo">
                        <li><a href="sass.html">Sass</a></li>
                        <li><a href="badges.html">Components</a></li>
                        <li><a href="collapsible.html">Javascript</a></li>
                        <li><a href="#" class="cerrar"><a href="#" class="cerrar">Cerrar Sesión</a><span class="usuario"></span></a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col s1 links"><a href="admin.html" class="tooltipped" data-delay="50" data-tooltip="Volver"><i class="small material-icons">skip_previous</i></a></div>
        </div>
        <div class="row">
            <ul class="collapsible" data-collapsible="accordion">
                <li>
                    <div class="collapsible-header"><i class="material-icons">add</i>Crear Asignatura</div>
                    <div class="collapsible-body">
                        <div class="row">
                            <div class="col s12">
                                <form class="s12" data-bind="submit: addAsignatura">
                                    <div class="input-field">
                                        <div class="row col s12 m6 l8">
                                            <input id="nombres" type="text" class="validate" required>
                                            <label for="nombres">Nombre de la asignatura:</label>
                                        </div>

                                        <div class="row col s12 m6 l4 center">
                                            <button type="submit" class="btn btn-default">Añadir</button>
                                        </div>
                                    </div>
                                </form>
                                <div class="row col s12">
                                    <ul class="collection with-header" id="listado" data-bind="foreach: asignaturas">
                                        <li class="collection-item">
                                            <div>
                                                <span data-bind="text: nombre_asignatura"></span>
                                                <a href="#modal1" class="secondary-content" data-bind="click: $parent.deleteAsignatura"><i class="material-icons">delete</i></a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="material-icons">search</i>Asignar asignaturas a un profesor</div>
                    <div class="collapsible-body">
                        <div class="col s12">
                            <form class="s12 form-inline" data-bind="submit: consultaProfesor">
                                <div class="row col s12">
                                    <div class="input-field col row s12">
                                        <input id="numero" type="text" class="validate" required>
                                        <label for="numero">Documento:</label>
                                        <button type="submit" class="btn btn-primary waves-light waves-effect">Consultar</button>
                                    </div>
                                    <div id="progreso" class="s12 center">
                                        <div class="preloader-wrapper big active">
                                            <div class="spinner-layer spinner-blue">
                                                <div class="circle-clipper left">
                                                    <div class="circle"></div>
                                                </div><div class="gap-patch">
                                                    <div class="circle"></div>
                                                </div><div class="circle-clipper right">
                                                    <div class="circle"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- ko if:detail_modificar() -->
                        <div class="col s12">
                            <form class="s12" data-bind="submit: enlazarAsignaturaProfesor">
                                <div class="row col s12">
                                    <div class="input-field col s6">
                                        <input id="nnombres" type="text" class="validate" data-bind="value:detail_modificar().nombres" required>
                                        <label for="nnombres">Nombres:</label>
                                    </div>
                                    <div class="input-field col s6">
                                        <input id="napellidos" type="text" class="validate" data-bind="value:detail_modificar().apellidos" required>
                                        <label for="napellidos">Apellidos:</label>
                                    </div>
                                </div>
                                <div class="row col s12">
                                    <div class="input-field col s12">
                                        <input id="id" type="hidden" class="validate" data-bind="value:detail_modificar().Id" required>
                                        <input id="uid" type="hidden" class="validate" data-bind="value:detail_modificar().UsuarioId" required>
                                    </div>
                                </div>
                                <div class="row col s12">
                                    <input type="checkbox" class="filled-in" id="filled-in-box" checked="checked" />
                                    <label for="filled-in-box">Filled in</label>
                                </div>
                                <div class="row col s12 center">
                                    <button type="submit" class="btn btn-default">Enlazar</button>
                                </div>
                            </form>
                        </div>
                        <!-- /ko -->
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!--Import jQuery before materialize.js-->
    <script src="../Scripts/jquery-2.1.4.min.js"></script>
    <script src="../Scripts/knockout-3.3.0.js"></script>
    <script src="../Scripts/materialize/materialize.min.js"></script>
    <!--Mis Scripts-->
    <script src="../Scripts/index.js"></script>
    <script src="../Scripts/verificar_usuario.js"></script>
</body>
</html>

<script type="text/javascript">
    $(document).ready(inicio);

    function inicio() {
        $("#btnmostrar").click(function () {
            document.getElementById("listado").style.opacity = 1;
            Materialize.showStaggeredList('#listado');
        });
        var options = [{ selector: '#listado', offset: 50, callback: 'Materialize.showStaggeredList("#listado")' }];
        Materialize.scrollFire(options);
        $('#progreso').hide();
        $('.tooltipped').tooltip({ delay: 50 });
        $('.modal-trigger').leanModal();
        $('select').material_select();
        $(".button-collapse").sideNav();
        $(".cerrar").click(logout);
        $(".button-collapse").sideNav();
        $(".cerrar").click(logout);
    }


    // esta funcion cierra la sesion, limpando el localstorage y retorna al index
    function logout() {
        localStorage.clear();
        location.href = "index.html";
    }
    function modal() {
        $('#modal1').openModal();
    }
</script>